<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Swiss Data Alps</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link rel="stylesheet" type="text/css" href="res/main.css">
	</head>
	<body>
		<div class="help" id="helpbox">
			<button class="close" onclick="document.getElementById('helpbox').style.display = 'none';">&times;</button>
			Click and drag to turn, use your mousewheel to zoom
		</div>
		
		<div class="legend" id="legendbox">
			<a href="http://make.opendata.ch" target="_blank" style="float:left">
				<img src="res/opendata_logo2.png">
			</a>
			<a href="http://github.com/loleg/dataalps" target="_blank" style="float:right">
				<img src="res/github-256-black.png">
			</a>
			<div class="title">
				Swiss Open Data Alps |
				<span>1 August 2013 Edition</span>
			</div>
			<div style="display:inline-block">
				<button class="population radio" data-year="2013">Population</button>
				<button class="commuting radio">Commuters</button>
				<button class="heatmap">Heat Map</button>
			</div>
		</div>

		<script src="lib/three/three.min.js"></script>
		<script src="lib/three/libs/stats.min.js"></script>
		<script src="lib/three/controls/OrbitControls.js"></script>
		<script src="lib/three/Detector.js"></script>
		
		<script src="lib/d3/d3.v2.js"></script>
		<script src="lib/d3/d3-threeD.js"></script>

		<script src="lib/ParticleEngine.js"></script>
		<script src="lib/fit-projection.js"></script>
		
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="lib/jquery-1.9.1.min.js"><\/script>')</script>			

		<script src="js/config.js"></script>
		<script src="js/render.js"></script>
		<script src="js/ui.js"></script>
		<script src="js/features.js"></script>
		<script src="js/data.js"></script>
		
		<script>
		
		// August 1 Special edition fireworks
		// Lee Stemkoski's Particle Engine
		function fireworks() {

			if (pppengine != null) pppengine.destroy();
			if (typeof ParticleEngine == 'undefined') return;
			pppengine = new ParticleEngine();
			pppengine.setValues({
				positionStyle  : Type.SPHERE,
				positionBase   : new THREE.Vector3( -100+(200*Math.random()), 100, -100 +(200*Math.random()) ),
				positionRadius : 10,
		
				velocityStyle  : Type.SPHERE,
				speedBase      : 45,
				speedSpread    : 10,
		
				accelerationBase : new THREE.Vector3( 0, -80, 0 ),
		
				particleTexture : THREE.ImageUtils.loadTexture( 'res/spark.png' ),
		
				sizeTween    : new Tween( [0.5, 0.7, 1.3], [5, 40, 1] ),
				opacityTween : new Tween( [0.2, 0.7, 2.5], [0.75, 1, 0] ),
				colorTween   : new Tween( [0.4, 0.8, 1.0], [ new THREE.Vector3(0,1,1), new THREE.Vector3(0,1,0.6), new THREE.Vector3(0.8, 1, 0.6) ] ),
				blendStyle   : THREE.AdditiveBlending,  
		
				particlesPerSecond : 3000,
				particleDeathAge   : 2.5,		
				emitterDeathAge    : 0.2
			});
			pppengine.initialize();

			setTimeout(fireworks, 4000 + (3000 * Math.random()));
		}
		setTimeout(fireworks, 6000);
		//

	</script>

	</body>
</html>
